<!-- math.component.html -->

<div class="app">
  <h1>Bienvenue au quiz de math√©matiques</h1>
  <div class="quiz">
    <h2 id="question">{{ mathQuestions[currentQuestionIndex]?.question }}</h2>
    <div id="answer-buttons">
      <button class="btn" *ngFor="let answer of getAnswersByQuestionId(mathQuestions[currentQuestionIndex]?.id)"
              (click)="selectAnswer(answer.id)"
              [ngClass]="{
          'selected': selectedAnswerId === answer.id,
          'correct': selectedAnswerId === answer.id && answer.response_value,
          'wrong': selectedAnswerId === answer.id && !answer.response_value
        }"
              [disabled]="answerSelected"> <!-- Disable the button if an answer is selected -->
        {{ answer.response }}
      </button>
    </div>
    <p>{{ feedbackMessage }}</p>
    <button id="next-btn" (click)="nextQuestion()">
      {{ nextButtonText() }}
    </button>

    <!-- Score Box -->
    <div *ngIf="showScoreBox" class="score-box">
      <p style="font-size: 25px; color: #3A1C71; font-weight: 600; border-bottom: 1px solid #333; padding-bottom: 30px;">
        Votre score est: {{ correctAnswers }} sur 5
      </p>
      <button class="btn" (click)="closeScoreBox()">OK</button>
    </div>
  </div>
</div>
